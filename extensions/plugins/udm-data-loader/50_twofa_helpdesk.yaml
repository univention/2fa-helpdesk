---
action: create_or_modify
module: portals/entry
position: cn=entry,cn=portals,cn=univention,{{ ldapBaseDn }}
properties:
  name: "twofaSelfservice"
  backgroundColor: "#ffffff"
  icon: ""
  link:
    - - en_US
      - {{ portalTwoFaLinkBase }}/ui/self-service
  allowedGroups:
    - 'cn=Domain Users,cn=groups,{{ ldapBaseDn }}'
    - 'cn=Domain Admin,cn=groups,{{ ldapBaseDn }}'
  linkTarget: newwindow
  description:
    de_DE: 2FA Settings Verwalten
    en_US: Manage 2FA Settings
  displayName:
    de_DE: 2FA Selfservice
    en_US: 2FA Selfservice

---
action: ensure_list_contains
module: portals/category
position: cn={{ twofaSelfserviceTileCategory }},cn=category,cn=portals,cn=univention,{{ ldapBaseDn }}
properties:
  entries:
  - cn=twofaSelfservice,cn=entry,cn=portals,cn=univention,{{ ldapBaseDn }}
---
action: create_or_modify
module: portals/entry
position: cn=entry,cn=portals,cn=univention,{{ ldapBaseDn }}
properties:
  name: "twofaAdmin"
  backgroundColor: "#ffffff"
  icon: ""
  link:
    - - en_US
      - {{ portalTwoFaLinkBase }}/ui/admin
  allowedGroups:
    - 'cn=twofa_admins,cn=groups,{{ ldapBaseDn }}'
  linkTarget: newwindow
  description:
    de_DE: 2FA Settings Verwalten
    en_US: Manage 2FA Settings
  displayName:
    de_DE: 2FA Admin Helpdesk
    en_US: 2FA Admin Helpdesk
---
action: ensure_list_contains
module: portals/category
position: cn={{ twofaAdminTileCategory }},cn=category,cn=portals,cn=univention,{{ ldapBaseDn }}
properties:
  entries:
  - cn=twofaAdmin,cn=entry,cn=portals,cn=univention,{{ ldapBaseDn }}
---
action: ensure_list_contains
module: portals/portal
position: cn=domain,cn=portal,cn=portals,cn=univention,{{ ldapBaseDn }}
properties:
  userLinks:
    - cn=twofaSelfservice,cn=entry,cn=portals,cn=univention,{{ ldapBaseDn }}
...
